(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){},39:function(e,t,a){e.exports=a(80)},44:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),l=a.n(o),c=(a(44),a(2)),s=a(3),i=a(5),u=a(4),m=a(6),d=a(81),p=a(74),h=a(9),g=a(11),b=a.n(g),v=function(e){e?b.a.defaults.headers.common.Authorization=e:delete b.a.defaults.headers.common.Authorization},f=a(18),E=a.n(f),k=function(e){return{type:"SET_CURRENT_USER",payload:e}},y=function(){return function(e){localStorage.removeItem("smToken"),v(!1),e(k({}))}},O=function(){return{type:"BACKLOG_LOADING"}},N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),a.props.clearBacklog(),a.props.logoutUser(),window.location.href="/"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=r.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.a,{className:"nav-link",to:"/currentSprint"},"Current Sprint"))),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.a,{className:"nav-link",to:"/profile"},a.sub)),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"",onClick:this.onLogoutClick,className:"nav-link",to:"/login"},r.a.createElement("span",{className:"oi oi-account-logout"})," ","Logout")))),o=r.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.a,{className:"nav-link",to:"/register"},"Sign Up")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.a,{className:"nav-link",to:"/login"},"Login"))));return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-4"},r.a.createElement("div",{className:"container"},r.a.createElement(p.a,{className:"navbar-brand",to:"/"},"Scrum Manager"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),t?n:o))}}]),t}(n.Component),j=Object(h.b)(function(e){return{auth:e.auth}},{logoutUser:y,clearBacklog:function(){return{type:"CLEAR_BACKLOG"}}})(N),w=function(){return r.a.createElement("footer",{className:"bg-dark text-white mt-5 p-4 text-center"},"Copyright \xa9 ",(new Date).getFullYear()," Scrum Manager")},S=a(82),C=a(72),_=a(13),T=a(36),x=a(15),I=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},A={isAuthenticated:!1,user:{}},B={},D={items:null,loading:!1},G=Object(_.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(x.a)({},e,{isAuthenticated:!I(t.payload),user:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},backlog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BACKLOG_LOADING":return Object(x.a)({},e,{items:[],loading:!0});case"GET_BACKLOG_ITEMS":return Object(x.a)({},e,{items:t.payload,loading:!1});case"CLEAR_BACKLOG":return Object(x.a)({},e,{items:null});default:return e}}}),L=[T.a],R=Object(_.e)(G,{},Object(_.d)(_.a.apply(void 0,L),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),M=a(14),U=a(37),K=a.n(U),P=function(e){var t=e.id,a=e.name,n=e.placeholder,o=e.value,l=e.label,c=e.error,s=e.info,i=e.type,u=e.onChange;e.disabled;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:t,className:"sr-only"},l),r.a.createElement("input",{type:i,id:t,name:a,onChange:u,value:o,className:K()("form-control",{"is-invalid":c}),placeholder:n}),s&&r.a.createElement("small",{className:"form-text text-muted"},s),c&&r.a.createElement("div",{className:"invalid-feedback"},c))};P.defaultProps={type:"text"};var V=P,W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentWillReceiveProps=function(e){e.auth.isAuthenticated&&a.props.history.push("/backlog"),e.errors&&a.setState({errors:e.errors})},a.handleChange=function(e){a.setState(Object(M.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={username:a.state.username,password:a.state.password};a.props.loginUser(t)},a.state={username:"",password:"",errors:{}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/backlog")}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"landing landing-background-login"},r.a.createElement("div",{className:"dark-overlay landing-inner text-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"form-main text-center"},r.a.createElement("form",{noValidate:!0,className:"form-signin",onSubmit:this.handleSubmit.bind(this)},r.a.createElement("img",{className:"mb-4",src:"dist/bootstrap-solid.svg",alt:"",width:"72",height:"72"}),r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Please sign in"),r.a.createElement(V,{type:"text",id:"username",onChange:this.handleChange,value:this.state.username,placeholder:"Name",error:e.username}),r.a.createElement(V,{type:"password",id:"password",onChange:this.handleChange,value:this.state.password,placeholder:"Password",error:e.password}),r.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",type:"submit"},"Sign in"))))))}}]),t}(n.Component),X=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){b.a.post("api/auth/login",e).then(function(e){var a=e.data.token;localStorage.setItem("smToken","Bearer ".concat(a)),v(a);var n=E()(a);t(k(n))}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(W),z=a(83),F=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).componentWillReceiveProps=function(t){t.errors&&e.setState({errors:t.errors})},e.handleChange=function(t){e.setState(Object(M.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a={username:e.state.username,email:e.state.email,password:e.state.password};e.props.registerUser(a,e.props.history)},e.state={username:"",email:"",password:"",errors:{}},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/backlog")}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"landing landing-background-register"},r.a.createElement("div",{className:"dark-overlay landing-inner text-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"form-main text-center"},r.a.createElement("form",{noValidate:!0,className:"form-signin",onSubmit:this.handleSubmit},r.a.createElement("img",{className:"mb-4",src:"dist/bootstrap-solid.svg",alt:"",width:"72",height:"72"}),r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Please sign up"),r.a.createElement(V,{type:"text",id:"username",onChange:this.handleChange,value:this.state.username,placeholder:"Name",error:e.username}),r.a.createElement(V,{type:"email",id:"email",onChange:this.handleChange,value:this.state.email,placeholder:"Email",error:e.email}),r.a.createElement(V,{type:"password",id:"password",onChange:this.handleChange,value:this.state.password,placeholder:"Password",error:e.password}),r.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",type:"submit"},"Sign up"))))))}}]),t}(n.Component),J=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){b.a.post("api/auth/register",e).then(function(e){t.push("/login")}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(z.a)(F)),H=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/backlog")}},{key:"render",value:function(){return r.a.createElement("div",{className:"landing landing-background-home"},r.a.createElement("div",{className:"dark-overlay landing-inner text-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("h1",{className:"display-3 mb-4"},"Scrum Manager"),r.a.createElement("p",{className:"lead"},"Great and free tool for developers to smart manage their work"),r.a.createElement("hr",null),r.a.createElement(p.a,{to:"/register",className:"btn btn-lg btn-info mr-2"},"Sign Up"),r.a.createElement(p.a,{to:"/login",className:"btn btn-lg btn-light"},"Login"))))))}}]),t}(n.Component),Y=Object(h.b)(function(e){return{auth:e.auth}})(H),$=a(21),q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onButtonClick=function(e){(0,a.props.onDeleteItem)(parseInt(e))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.index,n=t.value,o=t.id;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center list-group-item-light"},n,r.a.createElement("span",{className:"badge badge-primary badge-pill"},a),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.onButtonClick(o)},type:"button",className:"btn btn-outline-info btn-sm"},"Delete")))}}]),t}(n.Component),Q=(a(32),Object($.SortableElement)(function(e){var t=e.index,a=e.value,n=e.onDeleteItem,o=e.id;return r.a.createElement(q,{index:t,value:a,onDeleteItem:n,id:o})})),Z=Object($.SortableContainer)(function(e){var t=e.items,a=e.onDeleteItem;return r.a.createElement("ul",{className:"list-group"},t.map(function(e,t){return r.a.createElement(Q,{key:"item-".concat(t),index:t,value:e.name,onDeleteItem:a,id:e.id})}))}),ee=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onDeleteItem=function(e){a.props.removeBacklogTask(e)},a.onSortEnd=function(e){var t=e.oldIndex,n=e.newIndex,r=a.props.items,o=Object($.arrayMove)(r.tasks,t,n);a.props.sortBacklogItems(o)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.items;return r.a.createElement(Z,{items:e.tasks,onSortEnd:this.onSortEnd,onDeleteItem:this.onDeleteItem})}}]),t}(n.Component),te=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).sortBacklogItems=function(e){a.props.orderBacklogItems(e)},a.removeBacklogTask=function(e){a.props.removeTask(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/"),this.props.getBacklogItems()}},{key:"render",value:function(){var e=this.props.backlog,t=e.items,a=e.loading;return r.a.createElement("div",{className:"landing landing-background-backlog"},r.a.createElement("div",{className:"dark-overlay landing-inner text-light"},r.a.createElement("h1",{style:{textAlign:"center"}},"Main Backlog"),r.a.createElement("div",{className:"container"},null==t||null==t.tasks||a?r.a.createElement("div",{className:"loader"}):r.a.createElement(ee,{items:t,sortBacklogItems:this.sortBacklogItems,removeBacklogTask:this.removeBacklogTask}))))}}]),t}(n.Component),ae=Object(h.b)(function(e){return{auth:e.auth,backlog:e.backlog}},{getBacklogItems:function(){return function(e){e(O()),b.a.get("api/task/getbacklogtasks").then(function(t){e({type:"GET_BACKLOG_ITEMS",payload:t.data})}).catch(function(t){return e({type:"GET_BACKLOG_ITEMS",payload:{}})})}},orderBacklogItems:function(e){return function(t){t(O()),b.a.post("api/task/sortedbacklog",e).then(function(e){t({type:"GET_BACKLOG_ITEMS",payload:e.data})}).catch(function(e){return t({type:"GET_BACKLOG_ITEMS",payload:{}})})}},removeTask:function(e){return function(t){t(O()),b.a.delete("api/task",{params:{id:e}}).then(function(e){t({type:"GET_BACKLOG_ITEMS",payload:e.data})}).catch(function(e){t({type:"GET_BACKLOG_ITEMS",payload:{}})})}}})(te),ne=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"landing landing-background-currentSprint"},r.a.createElement("div",{className:"dark-overlay landing-inner text-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("h1",null,"Here will be board with current task for users"))))))}}]),t}(n.Component),re=Object(h.b)(function(e){return{auth:e.auth}})(ne),oe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/")}},{key:"render",value:function(){var e=this.props.auth.user;return r.a.createElement("div",{className:"landing landing-background-profile"},r.a.createElement("div",{className:"dark-overlay landing-inner text-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("h1",null,"User info"),r.a.createElement("h3",null,e.sub))))))}}]),t}(n.Component),le=Object(h.b)(function(e){return{auth:e.auth}})(oe);if(localStorage.smToken){v(localStorage.smToken);var ce=E()(localStorage.smToken);R.dispatch(k(ce));var se=Date.now()/1e3;ce.exp<se&&(R.dispatch(y()),window.location.href="/login")}var ie=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{store:R},r.a.createElement(S.a,null,r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement(C.a,{exact:!0,path:"/",component:Y}),r.a.createElement(C.a,{exact:!0,path:"/register",component:J}),r.a.createElement(C.a,{exact:!0,path:"/login",component:X}),r.a.createElement(C.a,{exact:!0,path:"/backlog",component:ae}),r.a.createElement(C.a,{exact:!0,path:"/currentSprint",component:re}),r.a.createElement(C.a,{exact:!0,path:"/profile",component:le}),r.a.createElement(w,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,2,1]]]);
//# sourceMappingURL=main.0c510c82.chunk.js.map